; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

include listing.inc

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

PUBLIC	IID_IAMFilterGraphCallback
;	COMDAT IID_IAMFilterGraphCallback
CONST	SEGMENT
IID_IAMFilterGraphCallback DD 056a868fdH
	DW	0ad4H
	DW	011ceH
	DB	0b0H
	DB	0a3H
	DB	00H
	DB	020H
	DB	0afH
	DB	0bH
	DB	0a7H
	DB	070H
CONST	ENDS
PUBLIC	$T82741
PUBLIC	?FindDeviceCallback@@YAHPEAU_GUID@@PEAD1PEAX@Z	; FindDeviceCallback
EXTRN	__imp_lstrcmpiA:PROC
EXTRN	_RTC_Shutdown:PROC
EXTRN	_RTC_InitBase:PROC
;	COMDAT pdata
; File c:\downloads\wpf mediakit - copy\src\filters\baseclasses\ddmm.cpp
pdata	SEGMENT
$pdata$?FindDeviceCallback@@YAHPEAU_GUID@@PEAD1PEAX@Z DD imagerel $LN6
	DD	imagerel $LN6+192
	DD	imagerel $unwind$?FindDeviceCallback@@YAHPEAU_GUID@@PEAD1PEAX@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?FindDeviceCallback@@YAHPEAU_GUID@@PEAD1PEAX@Z DD 032e01H
	DD	07016821aH
	DD	06015H
xdata	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
_RTC_Shutdown.rtc$TMZ DQ FLAT:_RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT rtc$IMZ
rtc$IMZ	SEGMENT
_RTC_InitBase.rtc$IMZ DQ FLAT:_RTC_InitBase
; Function compile flags: /Odtp /RTCsu
rtc$IMZ	ENDS
;	COMDAT ?FindDeviceCallback@@YAHPEAU_GUID@@PEAD1PEAX@Z
_TEXT	SEGMENT
p$ = 32
$T82741 = 40
lpGUID$ = 96
szName$ = 104
szDevice$ = 112
lParam$ = 120
?FindDeviceCallback@@YAHPEAU_GUID@@PEAD1PEAX@Z PROC	; FindDeviceCallback, COMDAT
; Line 26
$LN6:
	mov	QWORD PTR [rsp+32], r9
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	push	rsi
	push	rdi
	sub	rsp, 72					; 00000048H
	mov	rdi, rsp
	mov	ecx, 18
	mov	eax, -858993460				; ccccccccH
	rep stosd
	mov	rcx, QWORD PTR [rsp+96]
; Line 27
	mov	rax, QWORD PTR lParam$[rsp]
	mov	QWORD PTR p$[rsp], rax
; Line 29
	mov	rdx, QWORD PTR szDevice$[rsp]
	mov	rax, QWORD PTR p$[rsp]
	mov	rcx, QWORD PTR [rax]
	call	QWORD PTR __imp_lstrcmpiA
	test	eax, eax
	jne	SHORT $LN3@FindDevice
; Line 30
	cmp	QWORD PTR lpGUID$[rsp], 0
	je	SHORT $LN2@FindDevice
; Line 31
	lea	rax, QWORD PTR $T82741[rsp]
	mov	rdi, rax
	mov	rsi, QWORD PTR lpGUID$[rsp]
	mov	ecx, 16
	rep movsb
	mov	rax, QWORD PTR p$[rsp]
	lea	rcx, QWORD PTR $T82741[rsp]
	lea	rdi, QWORD PTR [rax+16]
	mov	rsi, rcx
	mov	ecx, 16
	rep movsb
; Line 32
	mov	rax, QWORD PTR p$[rsp]
	add	rax, 16
	mov	rcx, QWORD PTR p$[rsp]
	mov	QWORD PTR [rcx+8], rax
; Line 33
	jmp	SHORT $LN1@FindDevice
$LN2@FindDevice:
; Line 34
	mov	rax, QWORD PTR p$[rsp]
	mov	QWORD PTR [rax+8], 0
$LN1@FindDevice:
; Line 36
	mov	rax, QWORD PTR p$[rsp]
	mov	DWORD PTR [rax+32], 1
; Line 37
	xor	eax, eax
	jmp	SHORT $LN4@FindDevice
$LN3@FindDevice:
; Line 39
	mov	eax, 1
$LN4@FindDevice:
; Line 40
	add	rsp, 72					; 00000048H
	pop	rdi
	pop	rsi
	ret	0
?FindDeviceCallback@@YAHPEAU_GUID@@PEAD1PEAX@Z ENDP	; FindDeviceCallback
_TEXT	ENDS
PUBLIC	$T82751
PUBLIC	?FindDeviceCallbackEx@@YAHPEAU_GUID@@PEAD1PEAXPEAUHMONITOR__@@@Z ; FindDeviceCallbackEx
;	COMDAT pdata
pdata	SEGMENT
$pdata$?FindDeviceCallbackEx@@YAHPEAU_GUID@@PEAD1PEAXPEAUHMONITOR__@@@Z DD imagerel $LN6
	DD	imagerel $LN6+192
	DD	imagerel $unwind$?FindDeviceCallbackEx@@YAHPEAU_GUID@@PEAD1PEAXPEAUHMONITOR__@@@Z
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?FindDeviceCallbackEx@@YAHPEAU_GUID@@PEAD1PEAXPEAUHMONITOR__@@@Z DD 032e01H
	DD	07016821aH
	DD	06015H
; Function compile flags: /Odtp /RTCsu
xdata	ENDS
;	COMDAT ?FindDeviceCallbackEx@@YAHPEAU_GUID@@PEAD1PEAXPEAUHMONITOR__@@@Z
_TEXT	SEGMENT
p$ = 32
$T82751 = 40
lpGUID$ = 96
szName$ = 104
szDevice$ = 112
lParam$ = 120
hMonitor$ = 128
?FindDeviceCallbackEx@@YAHPEAU_GUID@@PEAD1PEAXPEAUHMONITOR__@@@Z PROC ; FindDeviceCallbackEx, COMDAT
; Line 44
$LN6:
	mov	QWORD PTR [rsp+32], r9
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	push	rsi
	push	rdi
	sub	rsp, 72					; 00000048H
	mov	rdi, rsp
	mov	ecx, 18
	mov	eax, -858993460				; ccccccccH
	rep stosd
	mov	rcx, QWORD PTR [rsp+96]
; Line 45
	mov	rax, QWORD PTR lParam$[rsp]
	mov	QWORD PTR p$[rsp], rax
; Line 47
	mov	rdx, QWORD PTR szDevice$[rsp]
	mov	rax, QWORD PTR p$[rsp]
	mov	rcx, QWORD PTR [rax]
	call	QWORD PTR __imp_lstrcmpiA
	test	eax, eax
	jne	SHORT $LN3@FindDevice@2
; Line 48
	cmp	QWORD PTR lpGUID$[rsp], 0
	je	SHORT $LN2@FindDevice@2
; Line 49
	lea	rax, QWORD PTR $T82751[rsp]
	mov	rdi, rax
	mov	rsi, QWORD PTR lpGUID$[rsp]
	mov	ecx, 16
	rep movsb
	mov	rax, QWORD PTR p$[rsp]
	lea	rcx, QWORD PTR $T82751[rsp]
	lea	rdi, QWORD PTR [rax+16]
	mov	rsi, rcx
	mov	ecx, 16
	rep movsb
; Line 50
	mov	rax, QWORD PTR p$[rsp]
	add	rax, 16
	mov	rcx, QWORD PTR p$[rsp]
	mov	QWORD PTR [rcx+8], rax
; Line 51
	jmp	SHORT $LN1@FindDevice@2
$LN2@FindDevice@2:
; Line 52
	mov	rax, QWORD PTR p$[rsp]
	mov	QWORD PTR [rax+8], 0
$LN1@FindDevice@2:
; Line 54
	mov	rax, QWORD PTR p$[rsp]
	mov	DWORD PTR [rax+32], 1
; Line 55
	xor	eax, eax
	jmp	SHORT $LN4@FindDevice@2
$LN3@FindDevice@2:
; Line 57
	mov	eax, 1
$LN4@FindDevice@2:
; Line 58
	add	rsp, 72					; 00000048H
	pop	rdi
	pop	rsi
	ret	0
?FindDeviceCallbackEx@@YAHPEAU_GUID@@PEAD1PEAXPEAUHMONITOR__@@@Z ENDP ; FindDeviceCallbackEx
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	DirectDrawCreateFromDevice
EXTRN	__GSHandlerCheck:PROC
EXTRN	__imp_SetErrorMode:PROC
EXTRN	__security_cookie:QWORD
EXTRN	__security_check_cookie:PROC
EXTRN	_RTC_CheckStackVars:PROC
;	COMDAT pdata
pdata	SEGMENT
$pdata$DirectDrawCreateFromDevice DD imagerel $LN5
	DD	imagerel $LN5+251
	DD	imagerel $unwind$DirectDrawCreateFromDevice
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$DirectDrawCreateFromDevice DD 034019H
	DD	0120117H
	DD	07010H
	DD	imagerel __GSHandlerCheck
	DD	080H
xdata	ENDS
;	COMDAT CONST
CONST	SEGMENT
DirectDrawCreateFromDevice$rtcName$0 DB 070H
	DB	064H
	DB	064H
	DB	00H
DirectDrawCreateFromDevice$rtcName$1 DB 066H
	DB	069H
	DB	06eH
	DB	064H
	DB	00H
	ORG $+7
DirectDrawCreateFromDevice$rtcVarDesc DD 048H
	DD	028H
	DQ	FLAT:DirectDrawCreateFromDevice$rtcName$1
	DD	028H
	DD	08H
	DQ	FLAT:DirectDrawCreateFromDevice$rtcName$0
	ORG $+96
DirectDrawCreateFromDevice$rtcFrameData DD 02H
	DD	00H
	DQ	FLAT:DirectDrawCreateFromDevice$rtcVarDesc
; Function compile flags: /Odtp /RTCsu
CONST	ENDS
;	COMDAT DirectDrawCreateFromDevice
_TEXT	SEGMENT
pdd$ = 40
find$ = 72
ErrorMode$82288 = 116
__$ArrayPad$ = 128
szDevice$ = 160
DirectDrawCreateP$ = 168
DirectDrawEnumerateP$ = 176
DirectDrawCreateFromDevice PROC				; COMDAT
; Line 67
$LN5:
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	push	rdi
	sub	rsp, 144				; 00000090H
	mov	rdi, rsp
	mov	ecx, 36					; 00000024H
	mov	eax, -858993460				; ccccccccH
	rep stosd
	mov	rcx, QWORD PTR [rsp+160]
	mov	rax, QWORD PTR __security_cookie
	xor	rax, rsp
	mov	QWORD PTR __$ArrayPad$[rsp], rax
; Line 68
	mov	QWORD PTR pdd$[rsp], 0
; Line 71
	cmp	QWORD PTR szDevice$[rsp], 0
	jne	SHORT $LN2@DirectDraw
; Line 72
	xor	r8d, r8d
	lea	rdx, QWORD PTR pdd$[rsp]
	xor	ecx, ecx
	call	QWORD PTR DirectDrawCreateP$[rsp]
; Line 73
	mov	rax, QWORD PTR pdd$[rsp]
	jmp	SHORT $LN3@DirectDraw
$LN2@DirectDraw:
; Line 76
	mov	rax, QWORD PTR szDevice$[rsp]
	mov	QWORD PTR find$[rsp], rax
; Line 77
	mov	DWORD PTR find$[rsp+32], 0
; Line 78
	lea	rdx, QWORD PTR find$[rsp]
	lea	rcx, OFFSET FLAT:?FindDeviceCallback@@YAHPEAU_GUID@@PEAD1PEAX@Z ; FindDeviceCallback
	call	QWORD PTR DirectDrawEnumerateP$[rsp]
; Line 80
	cmp	DWORD PTR find$[rsp+32], 0
	je	SHORT $LN1@DirectDraw
; Line 87
	mov	ecx, 1
	call	QWORD PTR __imp_SetErrorMode
	mov	DWORD PTR ErrorMode$82288[rsp], eax
; Line 88
	xor	r8d, r8d
	lea	rdx, QWORD PTR pdd$[rsp]
	mov	rcx, QWORD PTR find$[rsp+8]
	call	QWORD PTR DirectDrawCreateP$[rsp]
; Line 89
	mov	ecx, DWORD PTR ErrorMode$82288[rsp]
	call	QWORD PTR __imp_SetErrorMode
$LN1@DirectDraw:
; Line 92
	mov	rax, QWORD PTR pdd$[rsp]
$LN3@DirectDraw:
; Line 93
	mov	rdi, rax
	mov	rcx, rsp
	lea	rdx, OFFSET FLAT:DirectDrawCreateFromDevice$rtcFrameData
	call	_RTC_CheckStackVars
	mov	rax, rdi
	mov	rcx, QWORD PTR __$ArrayPad$[rsp]
	xor	rcx, rsp
	call	__security_check_cookie
	add	rsp, 144				; 00000090H
	pop	rdi
	ret	0
DirectDrawCreateFromDevice ENDP
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	DirectDrawCreateFromDeviceEx
;	COMDAT pdata
pdata	SEGMENT
$pdata$DirectDrawCreateFromDeviceEx DD imagerel $LN5
	DD	imagerel $LN5+257
	DD	imagerel $unwind$DirectDrawCreateFromDeviceEx
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$DirectDrawCreateFromDeviceEx DD 034019H
	DD	0120117H
	DD	07010H
	DD	imagerel __GSHandlerCheck
	DD	080H
xdata	ENDS
;	COMDAT CONST
CONST	SEGMENT
DirectDrawCreateFromDeviceEx$rtcName$0 DB 070H
	DB	064H
	DB	064H
	DB	00H
DirectDrawCreateFromDeviceEx$rtcName$1 DB 066H
	DB	069H
	DB	06eH
	DB	064H
	DB	00H
	ORG $+7
DirectDrawCreateFromDeviceEx$rtcVarDesc DD 048H
	DD	028H
	DQ	FLAT:DirectDrawCreateFromDeviceEx$rtcName$1
	DD	028H
	DD	08H
	DQ	FLAT:DirectDrawCreateFromDeviceEx$rtcName$0
	ORG $+96
DirectDrawCreateFromDeviceEx$rtcFrameData DD 02H
	DD	00H
	DQ	FLAT:DirectDrawCreateFromDeviceEx$rtcVarDesc
; Function compile flags: /Odtp /RTCsu
CONST	ENDS
;	COMDAT DirectDrawCreateFromDeviceEx
_TEXT	SEGMENT
pdd$ = 40
find$ = 72
ErrorMode$82299 = 116
__$ArrayPad$ = 128
szDevice$ = 160
DirectDrawCreateP$ = 168
DirectDrawEnumerateExP$ = 176
DirectDrawCreateFromDeviceEx PROC			; COMDAT
; Line 102
$LN5:
	mov	QWORD PTR [rsp+24], r8
	mov	QWORD PTR [rsp+16], rdx
	mov	QWORD PTR [rsp+8], rcx
	push	rdi
	sub	rsp, 144				; 00000090H
	mov	rdi, rsp
	mov	ecx, 36					; 00000024H
	mov	eax, -858993460				; ccccccccH
	rep stosd
	mov	rcx, QWORD PTR [rsp+160]
	mov	rax, QWORD PTR __security_cookie
	xor	rax, rsp
	mov	QWORD PTR __$ArrayPad$[rsp], rax
; Line 103
	mov	QWORD PTR pdd$[rsp], 0
; Line 106
	cmp	QWORD PTR szDevice$[rsp], 0
	jne	SHORT $LN2@DirectDraw@2
; Line 107
	xor	r8d, r8d
	lea	rdx, QWORD PTR pdd$[rsp]
	xor	ecx, ecx
	call	QWORD PTR DirectDrawCreateP$[rsp]
; Line 108
	mov	rax, QWORD PTR pdd$[rsp]
	jmp	SHORT $LN3@DirectDraw@2
$LN2@DirectDraw@2:
; Line 111
	mov	rax, QWORD PTR szDevice$[rsp]
	mov	QWORD PTR find$[rsp], rax
; Line 112
	mov	DWORD PTR find$[rsp+32], 0
; Line 114
	mov	r8d, 1
	lea	rdx, QWORD PTR find$[rsp]
	lea	rcx, OFFSET FLAT:?FindDeviceCallbackEx@@YAHPEAU_GUID@@PEAD1PEAXPEAUHMONITOR__@@@Z ; FindDeviceCallbackEx
	call	QWORD PTR DirectDrawEnumerateExP$[rsp]
; Line 116
	cmp	DWORD PTR find$[rsp+32], 0
	je	SHORT $LN1@DirectDraw@2
; Line 123
	mov	ecx, 1
	call	QWORD PTR __imp_SetErrorMode
	mov	DWORD PTR ErrorMode$82299[rsp], eax
; Line 124
	xor	r8d, r8d
	lea	rdx, QWORD PTR pdd$[rsp]
	mov	rcx, QWORD PTR find$[rsp+8]
	call	QWORD PTR DirectDrawCreateP$[rsp]
; Line 125
	mov	ecx, DWORD PTR ErrorMode$82299[rsp]
	call	QWORD PTR __imp_SetErrorMode
$LN1@DirectDraw@2:
; Line 128
	mov	rax, QWORD PTR pdd$[rsp]
$LN3@DirectDraw@2:
; Line 129
	mov	rdi, rax
	mov	rcx, rsp
	lea	rdx, OFFSET FLAT:DirectDrawCreateFromDeviceEx$rtcFrameData
	call	_RTC_CheckStackVars
	mov	rax, rdi
	mov	rcx, QWORD PTR __$ArrayPad$[rsp]
	xor	rcx, rsp
	call	__security_check_cookie
	add	rsp, 144				; 00000090H
	pop	rdi
	ret	0
DirectDrawCreateFromDeviceEx ENDP
_TEXT	ENDS
END
